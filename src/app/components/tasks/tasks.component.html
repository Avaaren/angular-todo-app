<div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header card-header-warning">
          <h4 class="card-title">Employees Stats</h4>
          <p class="card-category">New employees on 15th September, 2016</p>
        </div>
        <div class="card-body table-responsive">
         <table mat-table [dataSource]='dataSource'>

          <ng-container matColumnDef='color'>
            <th mat-header-cell *matHeaderCellDef></th>
            <td class='col-color' mat-cell *matCellDef='let task' [style.background-color]='getPriorityColor(task)'></td>
          </ng-container>

          <ng-container matColumnDef='position'>
            <th mat-header-cell *matHeaderCellDef>#</th>
            <td class='col-position' mat-cell *matCellDef='let index = index'>

              {{ index + 1 }}

            </td>
          </ng-container>

          <ng-container matColumnDef='name'>
            <th mat-header-cell *matHeaderCellDef>Название</th>
            <td class='col-name' mat-cell *matCellDef='let task' [class.completed]="task.is_completed">

              {{ task.title }}

            </td>
          </ng-container>

          <ng-container matColumnDef='category'>
            <th mat-header-cell *matHeaderCellDef>Категория</th>
            <td class='col-category' mat-cell *matCellDef='let task' [ngClass]="{'completed': task.is_completed, 'empty': !task.category}">

              {{ task.category ? task.category.name : 'Без категории' }}

            </td>
          </ng-container>


          <ng-container matColumnDef='priority'>
            <th mat-header-cell *matHeaderCellDef>Приоритет</th>
            <td class='col-priority' mat-cell *matCellDef='let task' [ngClass]="{'completed': task.is_completed, 'empty': !task.priority}">

              {{ task.priority ? task.priority.name : 'Без приоритета' }}

            </td>
          </ng-container>

          <ng-container matColumnDef='date'>
            <th mat-header-cell *matHeaderCellDef>Дата</th>
            <td class='col-date' mat-cell *matCellDef='let task' [ngClass]="{'completed': task.is_completed, 'empty': !task.date}">

              {{ task.date ? (task.date | date: 'short') : 'Без даты' }}

            </td>
          </ng-container>

          <!-- <ng-container matColumnDef='status'>
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef='let task' [ngClass]="{'completed': task.is_completed }"></td>
          </ng-container> -->

          <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
          <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr> 

         </table>
        </div>
      </div>
    </div>
  </div>
